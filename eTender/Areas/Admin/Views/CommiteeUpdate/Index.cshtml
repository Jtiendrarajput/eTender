@{
    ViewBag.Title = "Index";
    Layout = "~/Areas/Admin/Views/Shared/_layout.cshtml";
}

<script src="~/Areas/Admin/AngularModel/angular-min-1.4.8.js"></script>
<script src="~/Areas/Admin/AngularModel/UpdateCommitee.js"></script>


<div ng-app="UCModel" ng-controller="UCController">
    <div ng-show="ViewList">
        <div>
            <h2 class="new_h2"> <strong>Update Commitee for Tender</strong> </h2>
        </div>


        <div class="table-responsive">

            <br />
            <table class="table new_table">

                <tr>
                    <th>
                        Action
                    </th>
                    <th>
                        Tender ID
                    </th>
                    <th>
                        Title
                    </th>
                    <th>
                        Active Date
                    </th>
                    <th>
                        Create By
                    </th>
                    <th>
                        Department Name
                    </th>
                    <th>
                        Category Name
                    </th>
                    <th>
                        No. of Commitee Member
                    </th>
                </tr>

                <tr ng-repeat="item in TendorList">
                    <td>
                        <a href="javascript:void(0);" ng-click="ViewDetails(item)">View Details</a>
                    </td>
                    <td>
                        {{item.TenderID}}
                    </td>
                    <td>
                        {{item.Title}}
                    </td>
                    <td>
                        {{item.ActiveDate | date : 'dd-MMM-yyyy'}}
                    </td>
                    <td>
                        {{item.UserName}}
                    </td>
                    <td>
                        {{item.DeptName}}
                    </td>
                    <td>
                        {{item.CategoryName}}
                    </td>
                    <td>
                        {{item.TenderMemCount}}
                    </td>

                </tr>
            </table>


        </div>
    </div>

    <div ng-show="ViewAllDetails">
        <div>
            <h1 class="new_h2"><strong>Tender and Committee Details </strong></h1>
        </div>

        <div class="table-responsive">
            <form ng-submit="Edit()">

                <div>
                    <table class="table new_table">
                        <tr>
                            <th class="new_th"><strong>Tender Details</strong></th>
                            <th>&nbsp;</th>

                        </tr>
                        <tr>
                            <td>
                                <label>Tender ID</label>
                                <p>{{TendorViewDetails.TenderID}}</p>
                            </td>
                            <td>
                                <label>Title</label>
                                <p>{{TendorViewDetails.Title}}</p>
                            </td>
                        </tr>
                        <tr>
                            <td>
                                <label>Department</label>
                                <p>{{TendorViewDetails.DeptName}}</p>
                            </td>
                            <td>
                                <label>Category</label>
                                <p>{{TendorViewDetails.CategoryName}}</p>
                            </td>
                        </tr>
                        <tr>
                            <td>
                                <label>Published By</label>
                                <p>{{TendorViewDetails.UserName}}</p>
                            </td>
                            <td>
                                <label>No of Commitee Member</label>
                                <p>{{TendorViewDetails.TenderMemCount}}</p>
                            </td>
                        </tr>
                        <tr>
                            <td>
                                <label>Tender Fee (&#8377;)</label>
                                <p>{{TendorViewDetails.TenderFee}}</p>
                            </td>
                            <td>
                                <label>EMD Fee (&#8377;)</label>
                                <p>{{TendorViewDetails.EMDFee}}</p>

                            </td>
                        </tr>
                    </table>

                    <div>
                        <h1 class="new_h2"><strong>Commitee Details </strong></h1>
                    </div>

                    <table class="table new_table">
                        <tr>
                            <th>
                                Name
                            </th>
                            <th>
                                Mobile Number
                            </th>
                            <th>
                                Department
                            </th>
                            <th>
                                Designation
                            </th>
                            <th>
                                Email
                            </th>
                            <th>
                                Address
                            </th>
                        </tr>
                        <tr ng-repeat="item in CommiteeDetails">
                            <td>
                                {{item.Name}}
                            </td>
                            <td>
                                {{item.MobileNumber}}
                            </td>
                            <td>
                                {{item.Department}}
                            </td>
                            <td>
                                {{item.Designation}}
                            </td>
                            <td>
                                {{item.Email}}
                            </td>
                            <td>
                                {{item.Address}}
                            </td>
                        </tr>
                    </table>

                </div> @*!--tender fee div-->*@

                <input type="button" value="Back" ng-click="BackToList()" />
                <input type="submit" value="Update Commitee >>" class="btn-primary" />
                @*<input type="button" value="Create Tendor" ng-click="CreateTendor()" />*@
            </form>
        </div>
    </div>

    <div ng-show="UCView">
        <div>
            <h1 class="new_h2"><strong>Update Commitee</strong></h1>
        </div>
        <div class="table-responsive">
            <form ng-submit="UpdateCommitee()">


                <div>
                    <table>
                        <tr>
                            <td>
                                <label>Tender ID:</label>
                                <input type="text" ng-model="TendorViewDetails.TenderID" disabled />
                            </td>
                        </tr>

                        <tr>
                            <td>
                                <table class="table new_table">
                                    <tr>
                                        <th>
                                            @*<input type="checkbox" ng-click=""/>Select All*@
                                            Select
                                        </th>
                                        <th>
                                            Name
                                        </th>
                                        <th>
                                            Mobile Number
                                        </th>
                                        <th>
                                            Email
                                        </th>
                                        <th>
                                            Department
                                        </th>
                                        <th>
                                            Designation
                                        </th>
                                        <th>
                                            Address
                                        </th>
                                    </tr>
                                    <tr ng-repeat="item in CommiteeMember">
                                        <td>
                                            <input type="checkbox" ng-model="item.chk" />
                                        </td>
                                        <td>
                                            {{item.Name}}
                                        </td>
                                        <td>
                                            {{item.CountryCode + " " + item.MobileNumber}}
                                        </td>
                                        <td>
                                            {{item.Email}}
                                        </td>
                                        <td>
                                            {{item.Department}}
                                        </td>
                                        <td>
                                            {{item.Designation}}
                                        </td>
                                        <td>
                                            {{item.Address}}
                                        </td>
                                    </tr>

                                </table>
                            </td>
                        </tr>
                    </table>

                </div> @*!--tender fee div-->*@

                <input type="button" value="Back" ng-click="BackToUpdate()" />

                <input type="submit" value="Update Commitee" class="btn-primary" />
                <input type="button" value="Delete Commitee" ng-click="DeleteCommitee();" class="btn-primary" />
                @*<input type="button" value="Create Tendor" ng-click="CreateTendor()" />*@
            </form>
        </div>
    </div>
</div>
