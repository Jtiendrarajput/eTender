@{
    ViewBag.Title = "Index";
    Layout = "~/Areas/Committee/Views/Shared/_layout.cshtml";
}

<script src="~/Areas/Committee/AngularModel/angular-min-1.4.8.js"></script>
<script src="~/Areas/Committee/AngularModel/AllUnfreezedTendor.js"></script>

<div ng-app="UTModel" ng-controller="UTController">
    <div ng-show="ShowTendorList">
        <div>
            <h2 class="new_h2"> <strong>All Unfreezed Tenders</strong> </h2>
        </div>

        <div class="table-responsive">

            <table class="table new_table">

                <tr>
                    <th>
                        Action
                    </th>
                    <th>
                        Tender ID
                    </th>
                    <th>
                        Title
                    </th>

                    <th>
                        Create By
                    </th>

                    <th>
                        Department Name
                    </th>
                    <th>
                        Category Name
                    </th>
                    <th>
                        Tender Fee (&#8377;)
                    </th>
                    <th>
                        EMD Fee (&#8377;)
                    </th>
                    <th>
                        Active Date
                    </th>
                    <th>
                        Bid Start Date
                    </th>
                    <th>
                        Freeze Date
                    </th>
                    <th>
                        Download Start Date
                    </th>
                    <th>
                        Download End Date
                    </th>
                    <th>
                        Publish Date
                    </th>
                    <th>
                        Technical Bid Open Date
                    </th>
                    <th>
                        Financial Bid Open Date
                    </th>
                    <th>
                        Clarification Start Date
                    </th>
                    <th>
                        Clarification End Date
                    </th>
                </tr>

                <tr ng-repeat="item in TendorList">
                    <td>
                        <a href="javascript:void(0);" ng-click="ViewBidders(item.ID,item.TenderID);">View Bidders</a>
                    </td>
                    <td>
                        {{item.TenderID}}
                    </td>
                    <td>
                        {{item.Title}}
                    </td>

                    <td>
                        {{item.UserName}}
                    </td>

                    <td>
                        {{item.DeptName}}
                    </td>
                    <td>
                        {{item.CateName}}
                    </td>
                    <td>
                        {{item.TenderFee}}
                    </td>
                    <td>
                        {{item.EMDFee}}
                    </td>
                    <td>
                        {{item.ActiveDate | date : 'dd-MMM-yyyy'}}
                    </td>
                    <td>
                        {{item.BidStartDate | date : 'dd-MMM-yyyy'}}
                    </td>
                    <td>
                        {{item.FreezeDate | date : 'dd-MMM-yyyy'}}
                    </td>
                    <td>
                        {{item.DownloadStartDate  | date : 'dd-MMM-yyyy'}}
                    </td>
                    <td>
                        {{item.DownloadEndDate | date : 'dd-MMM-yyyy'}}
                    </td>
                    <td>
                        {{item.PublishDate | date : 'dd-MMM-yyyy'}}
                    </td>
                    <td>
                        {{item.TechBidOpenDate | date : 'dd-MMM-yyyy'}}
                    </td>
                    <td>
                        {{item.FinancialBidOpenDate | date : 'dd-MMM-yyyy'}}
                    </td>
                    <td>
                        {{item.ClarificationStartDate | date : 'dd-MMM-yyyy'}}
                    </td>
                    <td>
                        {{item.ClarificationEndDate | date : 'dd-MMM-yyyy'}}
                    </td>

                </tr>
            </table>


        </div>

    </div>

    <div ng-show="!ShowTendorList">
        <div>
            <h2 class="new_h2"> <strong>All Bidders for TenderID: {{TendorUniqueID}}</strong> </h2>
        </div>

        <div class="table-responsive">

            <table class="table new_table">

                <tr>

                    <th>
                        Company Name
                    </th>
                    <th>
                        Email
                    </th>
                    <th>
                        Mobile Number
                    </th>
                    <th>
                        Phone Number
                    </th>
                    <th>
                        Designation
                    </th>
                    <th>
                        Registration Number
                    </th>

                    <th>
                        Registered Address
                    </th>

                    <th>
                        DOB
                    </th>

                </tr>

                <tr ng-repeat="item in BiddersList">

                    <td>
                        {{item.CompanyName}}
                    </td>
                    <td>
                        {{item.Email}}
                    </td>

                    <td>
                        {{item.CountryCode +" " + item.MobileNumber}}
                    </td>
                    <td>
                        {{item.ISD_STDCode + " " + item.PhoneNumber}}
                    </td>
                    <td>
                        {{item.Designation}}
                    </td>
                    <td>
                        {{item.RegistrationNo}}
                    </td>
                    <td>
                        {{item.RegisteredAddress + " " + item.City + " " + item.State + " " +item.Country + " " + item.PostalCode}}
                    </td>
                    <td>
                        {{item.DOB | date : 'dd-MMM-yyyy'}}
                    </td>

                </tr>
            </table>

            <input type="button" ng-click="ShowTendorList = true" value="Back" />

        </div>

    </div>
</div>