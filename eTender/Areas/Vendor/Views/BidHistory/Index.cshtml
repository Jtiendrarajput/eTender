@{
    ViewBag.Title = "Index";
    Layout = "~/Areas/Vendor/Views/Shared/_layout.cshtml";
}

<script src="~/Areas/Vendor/AnglarModel/angular-min-1.4.8.js"></script>
<script src="~/Areas/Vendor/AnglarModel/BidHistory.js"></script>

<link href="~/Resources/css/style.css" rel="stylesheet" />

<div ng-app="OpeModel" ng-controller="BidHistoryController" style="overflow: auto !important;">
    <div ng-show="ViewBidList">

        <div>
            <h2 class="new_h2"> <strong>Bid History</strong> </h2>
        </div>
        <div class="table-responsive">

            <table class="table new_table">
                <thead>
                    <tr>
                        <th>
                            Action
                        </th>
                        <th>
                            Bid ID
                        </th>
                        <th>
                            Tender ID
                        </th>
                        <th>
                            Title
                        </th>
                        <th>
                            Bit Placed Date
                        </th>
                        <th>
                            Bid Type
                        </th>
                        <th>
                            Final Bid Status
                        </th>

                    </tr>
                </thead>
                <tbody>
                    <tr ng-repeat="item in BidHistoryDetails">
                        <td>
                            <input type="button" value="View Details" ng-click="ViewDetails(item.TenderAutoID)" />
                        </td>
                        <td>
                            {{item.ID}}
                        </td>
                        <td>
                            {{item.TenderID}}
                        </td>
                        <td>
                            {{item.Title}}
                        </td>
                        <td>
                            {{item.BidSubmitDate  | date : 'dd-MMM-yyyy'}}
                        </td>
                        <td>
                            {{item.BidType}}
                        </td>
                        <td>
                            {{item.FinalBidStatus}}
                        </td>

                    </tr>
                </tbody>
            </table>
        </div>
    </div>

    <div ng-show="!ViewBidList">
        <div>
            <h2 class="new_h2"><strong> Bid History Details for TenderID "{{AllBidDetails[0].TenderID}}"</strong></h2>
        </div>

        <div class="table-responsive">

            <div class="table-responsive">

                <table class="table new_table">
                    <tr>
                        <th class="new_th"><strong>Tender Details</strong></th>
                        <th>&nbsp;</th>

                    </tr>
                    <tr>
                        <td>
                            <label>Tendor ID</label>
                            <p>{{AllBidDetails[0].TenderID}}</p>
                        </td>
                        <td>
                            <label>Title</label>
                            <p>{{AllBidDetails[0].Title}}</p>
                        </td>
                    </tr>
                    <tr>
                        <td>
                            <label>Bid Start Date</label>
                            <p>{{AllBidDetails[0].BidStartDate  | date : 'dd-MMM-yyyy'}}</p>
                        </td>
                        <td>
                            <label>Bid End Date</label>
                            <p>{{AllBidDetails[0].FreezeDate  | date : 'dd-MMM-yyyy'}}</p>
                        </td>
                    </tr>
                </table> @*Tender Fee Details*@
            </div> @*Tender Fee Details*@

            <div class="table-responsive">
                <table class="table new_table">
                    <tr>
                        <th class="new_th"><strong>Commitee Members</strong></th>
                        <th>&nbsp;</th>

                    </tr>
                </table>

                <table class="table">
                    <thead>
                        <tr>
                            <th>
                                S. No.
                            </th>
                            <th>
                                Name
                            </th>
                            <th>
                                Department
                            </th>
                            <th>
                                Designation
                            </th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr ng-repeat="item in AllBidDetails">
                            <td>
                                {{($index + 1)}}
                            </td>
                            <td>
                                {{item.MemberName}}
                            </td>
                            <td>
                                {{item.Department}}
                            </td>
                            <td>
                                {{item.Designation}}
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>  @*Commitee Member*@


            <div class="table-responsive">

                <table class="table new_table">
                    <tr>
                        <th class="new_th"><strong>All Bidders</strong></th>
                        <th>&nbsp;</th>

                    </tr>
                </table>
                <table class="table">
                    <thead>
                        <tr>
                            <th>
                                S. No.
                            </th>
                            <th>
                                Bid Id
                            </th>
                            <th>
                                Company Name
                            </th>
                            <th>
                                Bid Submitted On
                            </th>
                            <th>
                                Bid Type
                            </th>
                            <th>
                                Bid Status
                            </th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr ng-repeat="item in AllBidDetailsBidders">
                            <td>
                                {{($index +1)}}
                            </td>
                            <td>
                                {{item.BidID}}
                            </td>
                            <td>
                                {{item.CompanyName}}
                            </td>
                            <td>
                                {{item.BidSubmitDate  | date : 'dd-MMM-yyyy'}}
                            </td>
                            <td>
                                {{item.BidType}}
                            </td>
                            <td>
                                {{item.BidStatus}}
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>  @*All Bidders*@

            <input type="button" value="Back" ng-click="ViewBidList = true" />
        </div>
    </div>
</div>